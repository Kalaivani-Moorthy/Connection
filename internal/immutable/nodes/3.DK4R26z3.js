import{t as B,a as j,c as le}from"../chunks/7vKCB50G.js";import{i as Ne}from"../chunks/CPKQyblE.js";import{F as ge,b as we,s as X,h as T,t as xe,a as Re,K as m,a1 as Ie,H as Te,r as se,c as z,f as K,y as Se,d as me,e as pe,p as Ce,a2 as J,C as ye,G as te,a3 as ne,a4 as De,a5 as ve,a6 as ae,a7 as Me,B as Pe,a8 as He,Q as je,a9 as re,aa as Le,w as Oe,_ as Ye,ab as Ae,Y as Ge,ac as Ve,ad as qe,ae as Be,af as Ke,o as We,ag as Fe,g as Qe,ah as Y,i as Ue,j as G,k as V,l as L,R as ie,S as fe,ai as Xe,aj as S}from"../chunks/CiwN9BiB.js";import{s as ze}from"../chunks/BUrTCFDi.js";import{i as W}from"../chunks/CntvpJls.js";import{b as Je,l as Ze,e as Z}from"../chunks/R_90pg4v.js";function ue(e,a){return a}function $e(e,a,r,i){for(var l=[],n=a.length,f=0;f<n;f++)Me(a[f].e,l,!0);var d=n>0&&l.length===0&&r!==null;if(d){var g=r.parentNode;Pe(g),g.append(r),i.clear(),O(e,a[0].prev,a[n-1].next)}He(l,()=>{for(var E=0;E<n;E++){var h=a[E];d||(i.delete(h.k),O(e,h.prev,h.next)),je(h.e,!d)}})}function oe(e,a,r,i,l,n=null){var f=e,d={items:new Map,first:null},g=(a&Ae)!==0;if(g){var E=e;f=T?X(xe(E)):E.appendChild(ge())}T&&Re();var h=null,M=!1,v=Ie(()=>{var _=r();return Ye(_)?_:_==null?[]:ye(_)});we(()=>{var _=m(v),s=_.length;if(M&&s===0)return;M=s===0;let C=!1;if(T){var y=f.data===Te;y!==(s===0)&&(f=se(),X(f),z(!1),C=!0)}if(T){for(var w=null,R,A=0;A<s;A++){if(K.nodeType===8&&K.data===Se){f=K,C=!0,z(!1);break}var t=_[A],u=i(t,A);R=be(K,d,w,null,t,u,A,l,a,r),d.items.set(u,R),w=R}s>0&&X(se())}T||ea(_,d,f,l,a,i,r),n!==null&&(s===0?h?me(h):h=pe(()=>n(f)):h!==null&&Ce(h,()=>{h=null})),C&&z(!0),m(v)}),T&&(f=K)}function ea(e,a,r,i,l,n,f){var N,k,x,P;var d=(l&Ve)!==0,g=(l&(re|ae))!==0,E=e.length,h=a.items,M=a.first,v=M,_,s=null,C,y=[],w=[],R,A,t,u;if(d)for(u=0;u<E;u+=1)R=e[u],A=n(R,u),t=h.get(A),t!==void 0&&((N=t.a)==null||N.measure(),(C??(C=new Set)).add(t));for(u=0;u<E;u+=1){if(R=e[u],A=n(R,u),t=h.get(A),t===void 0){var F=v?v.e.nodes_start:r;s=be(F,a,s,s===null?a.first:s.next,R,A,u,i,l,f),h.set(A,s),y=[],w=[],v=s.next;continue}if(g&&aa(t,R,u,l),t.e.f&J&&(me(t.e),d&&((k=t.a)==null||k.unfix(),(C??(C=new Set)).delete(t))),t!==v){if(_!==void 0&&_.has(t)){if(y.length<w.length){var q=w[0],D;s=q.prev;var c=y[0],o=y[y.length-1];for(D=0;D<y.length;D+=1)_e(y[D],q,r);for(D=0;D<w.length;D+=1)_.delete(w[D]);O(a,c.prev,o.next),O(a,s,c),O(a,o,q),v=q,s=o,u-=1,y=[],w=[]}else _.delete(t),_e(t,v,r),O(a,t.prev,t.next),O(a,t,s===null?a.first:s.next),O(a,s,t),s=t;continue}for(y=[],w=[];v!==null&&v.k!==A;)v.e.f&J||(_??(_=new Set)).add(v),w.push(v),v=v.next;if(v===null)continue;t=v}y.push(t),s=t,v=t.next}if(v!==null||_!==void 0){for(var p=_===void 0?[]:ye(_);v!==null;)v.e.f&J||p.push(v),v=v.next;var b=p.length;if(b>0){var I=l&Ae&&E===0?r:null;if(d){for(u=0;u<b;u+=1)(x=p[u].a)==null||x.measure();for(u=0;u<b;u+=1)(P=p[u].a)==null||P.fix()}$e(a,p,I,h)}}d&&Ge(()=>{var H;if(C!==void 0)for(t of C)(H=t.a)==null||H.apply()}),te.first=a.first&&a.first.e,te.last=s&&s.e}function aa(e,a,r,i){i&re&&ne(e.v,a),i&ae?ne(e.i,r):e.i=r}function be(e,a,r,i,l,n,f,d,g,E){var h=(g&re)!==0,M=(g&Le)===0,v=h?M?De(l):ve(l):l,_=g&ae?ve(f):f,s={i:_,v,k:n,a:null,e:null,prev:r,next:i};try{return s.e=pe(()=>d(e,v,_,E),T),s.e.prev=r&&r.e,s.e.next=i&&i.e,r===null?a.first=s:(r.next=s,r.e.next=s.e),i!==null&&(i.prev=s,i.e.prev=s.e),s}finally{}}function _e(e,a,r){for(var i=e.next?e.next.e.nodes_start:r,l=a?a.e.nodes_start:r,n=e.e.nodes_start;n!==i;){var f=Oe(n);l.before(n),n=f}}function O(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function ce(e){if(T){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var i=e.value;de(e,"value",null),e.value=i}if(e.hasAttribute("checked")){var l=e.checked;de(e,"checked",null),e.checked=l}}};e.__on_r=r,qe(r),Je()}}function de(e,a,r,i){var l=e.__attributes??(e.__attributes={});T&&(l[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||l[a]!==(l[a]=r)&&(a==="style"&&"__styles"in e&&(e.__styles={}),a==="loading"&&(e[Be]=r),e.removeAttribute(a))}function ra(e,a,r){var i=e.__className,l=la(a);T&&e.className===l?e.__className=l:(i!==l||T&&e.className!==l)&&(a==null?e.removeAttribute("class"):e.className=l,e.__className=l)}function la(e,a){return(e??"")+""}function he(e,a,r=a){var i=Ke();Ze(e,"input",l=>{var n=l?e.defaultValue:e.value;if(n=$(e)?ee(n):n,r(n),i&&n!==(n=a())){var f=e.selectionStart,d=e.selectionEnd;e.value=n??"",d!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(d,e.value.length))}}),(T&&e.defaultValue!==e.value||We(a)==null&&e.value)&&r($(e)?ee(e.value):e.value),Fe(()=>{var l=a();$(e)&&l===ee(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function $(e){var a=e.type;return a==="number"||a==="range"}function ee(e){return e===""?null:+e}var sa=B("<div></div>"),ta=B('<div class="overlay svelte-eop2vj"><div class="popup start-modal svelte-eop2vj"><h2>Enter Player Names</h2> <input type="text" placeholder="Player 1 (Red)" class="svelte-eop2vj"> <input type="text" placeholder="Player 2 (Yellow)" class="svelte-eop2vj"> <button class="svelte-eop2vj">Start Game</button></div></div>'),na=B("<h2> </h2>"),va=B("<h2>It's a Draw!</h2>"),ia=B('<div class="overlay svelte-eop2vj"><div class="victory-popup svelte-eop2vj"><!>  <div class="buttons svelte-eop2vj"><button class="restart svelte-eop2vj">â†º Restart</button></div></div></div>'),fa=B('<div class="game-container svelte-eop2vj"><h1>Connect 4</h1> <div class="board svelte-eop2vj"></div> <!> <!></div>');function ma(e,a){Qe(a,!1);let r=6,i=7,l=Y(Array.from({length:r},()=>Array(i).fill(null))),n="Red",f=Y(null),d=Y(!1),g=Y(""),E=Y(""),h="Player 1",M="Player 2",v=Y(!0),_=Y(!1);const s=c=>{if(!(m(f)||m(d))){for(let o=r-1;o>=0;o--)if(!m(l)[o][c]){Xe(l,m(l)[o][c]=n),C(o,c)?(S(f,n==="Red"?h:M),S(_,!0)):m(l).every(p=>p.every(b=>b))?(S(d,!0),S(_,!0)):n=n==="Red"?"Yellow":"Red";return}}},C=(c,o)=>y(c,o,1,0)||y(c,o,0,1)||y(c,o,1,1)||y(c,o,1,-1),y=(c,o,p,b)=>{let I=1;for(let N=-1;N<=1;N+=2){let k=c+N*p,x=o+N*b;for(;k>=0&&k<r&&x>=0&&x<i&&m(l)[k][x]===n;)I++,k+=N*p,x+=N*b}return I>=4},w=()=>{S(l,Array.from({length:r},()=>Array(i).fill(null))),n="Red",S(f,null),S(d,!1),S(_,!1)},R=()=>{h=m(g)||"Player 1",M=m(E)||"Player 2",S(v,!1)};Ne();var A=fa(),t=G(V(A),2);oe(t,5,()=>m(l),ue,(c,o)=>{var p=le(),b=ie(p);oe(b,1,()=>m(o),ue,(I,N,k)=>{var x=sa();fe(()=>ra(x,`cell ${m(N)??""} svelte-eop2vj`)),Z("click",x,()=>s(k)),j(I,x)}),j(c,p)}),L(t);var u=G(t,2);{var F=c=>{var o=ta(),p=V(o),b=G(V(p),2);ce(b);var I=G(b,2);ce(I);var N=G(I,2);L(p),L(o),he(b,()=>m(g),k=>S(g,k)),he(I,()=>m(E),k=>S(E,k)),Z("click",N,R),j(c,o)};W(u,c=>{m(v)&&c(F)})}var q=G(u,2);{var D=c=>{var o=ia(),p=V(o),b=V(p);{var I=P=>{var H=na(),Q=V(H);L(H),fe(()=>ze(Q,`ðŸŽ‰ ${m(f)??""} Wins! ðŸŽ‰`)),j(P,H)},N=P=>{var H=le(),Q=ie(H);{var Ee=U=>{var ke=va();j(U,ke)};W(Q,U=>{m(d)&&U(Ee)},!0)}j(P,H)};W(b,P=>{m(f)?P(I):P(N,!1)})}var k=G(b,2),x=V(k);L(k),L(p),L(o),Z("click",x,w),j(c,o)};W(q,c=>{m(_)&&c(D)})}L(A),j(e,A),Ue()}export{ma as component};
